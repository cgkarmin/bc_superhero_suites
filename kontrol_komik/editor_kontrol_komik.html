<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kontrol Komik Editor - BC Penulis Superhero</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../css/pop_art_theme.css">
    <style>
        /* Gaya spesifik untuk editor_kontrol_komik.html */
        .panel-utama-card {
            border: 4px solid #000000; /* Border lebih tebal untuk panel utama */
            border-radius: 0;
            margin-bottom: 2rem; /* Jarak lebih antara panel utama */
            box-shadow: 6px 6px 0px #000000; /* Bayang lebih menonjol */
            background-color: #f8f9fa; /* Latar sedikit berbeza */
        }
        .panel-utama-card .card-header {
            font-family: 'Bangers', cursive;
            background-color: #e60073; /* Magenta untuk header Panel Utama */
            color: white;
            font-size: 1.5rem; /* Tajuk lebih besar */
            border-bottom: 4px solid #000;
            padding: 0.75rem 1.25rem;
        }
        .subpanel-container {
            padding: 1rem;
            background-color: #ffffff; /* Latar putih untuk kawasan subpanel */
        }
        .sub-panel-card {
            border: 2px solid #005eff; /* Border biru untuk sub-panel */
            border-radius: 0;
            margin-bottom: 1rem;
            box-shadow: 3px 3px 0px #cccccc;
            background-color: #e7f3ff; /* Latar biru sangat lembut untuk sub-panel */
        }
        .sub-panel-card .card-header {
            font-family: 'Passion One', cursive;
            background-color: #007bff; 
            color: white;
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            border-bottom: 2px solid #005eff;
        }
        .form-label-pop-editor { 
            font-family: 'Passion One', cursive;
            font-weight: 700;
            color: #333;
            font-size: 0.9rem; 
            margin-bottom: 0.2rem;
            display: block; 
        }
        #editorAreaKontrolKomik .form-control, 
        #editorAreaKontrolKomik .form-select {
            font-size: 0.85rem; 
            padding: 0.3rem 0.5rem;
            border-radius: 0;
            border-width: 2px;
        }
        #editorAreaKontrolKomik fieldset legend {
            font-size: 0.95rem !important;
            padding: 0 0.4rem !important;
        }
        #editorAreaKontrolKomik fieldset {
            padding: 0.75rem !important;
        }
    </style>
</head>
<body class="bc-superhero-body">

    <header class="pop-art-header">
        <h1><i class="bi bi-pencil-square"></i> Kontrol Komik Editor</h1>
        <p class="subtitle">Langkah 3: Susun Panel & Perincian Visual Anda</p>
    </header>

    <main class="container mt-4">
        <div class="card card-custom mb-4">
            <div class="card-header pop-art-card-header">
                <i class="bi bi-gear-wide-connected me-2"></i>Panel Kawalan Editor
            </div>
            <div class="card-body">
                <div class="row g-2 align-items-end">
                    <div class="col-lg-3 col-md-6 mb-2">
                        <button class="btn btn-success w-100" id="btnTambahPanelUtama">
                            <i class="bi bi-plus-square-fill"></i> Tambah Panel Utama
                        </button>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-2">
                        <input type="file" id="inputMuatNaikJsonPanel" accept=".json" style="display: none;">
                        <button class="btn btn-primary w-100" id="btnMuatNaikJsonPanel">
                            <i class="bi bi-upload"></i> Muat Naik JSON Panel
                        </button>
                    </div>
                    <div class="col-lg-3 col-md-6 mb-2">
                        <button class="btn btn-secondary w-100" id="btnMuatTurunJsonPanel">
                            <i class="bi bi-download"></i> Muat Turun JSON Panel
                        </button>
                    </div>
                     <div class="col-lg-3 col-md-6 mb-2">
                        <button class="btn btn-danger w-100" id="btnKosongkanSemuaPanelUtama">
                            <i class="bi bi-eraser-fill"></i> Kosongkan Semua Panel
                        </button>
                    </div>
                </div>
                <hr class="my-3">
                <h6 class="pop-art-text text-center fw-bold mb-2">ATAU Tampal Teks JSON Penuh</h6>
                <div class="mb-2">
                    <label for="jsonPasteAreaKontrol" class="form-label-pop visually-hidden">Tampal Kandungan JSON Panel Penuh Di Sini:</label>
                    <textarea class="form-control" id="jsonPasteAreaKontrol" rows="5" placeholder="[ { &quot;subpanel&quot;: [ { &quot;watak&quot;: &quot;...&quot;, ... } ] } ]"></textarea>
                </div>
                <button class="btn btn-pop-art-action-main w-100" id="btnProsesJsonTampalKontrol">
                    <i class="bi bi-file-earmark-arrow-down-fill"></i> Proses Teks JSON Ditampal
                </button>
            </div>
        </div>

        <div id="editorAreaKontrolKomik" class="mt-4">
            <p id="placeholderPanelUtama" class="text-center pop-art-text lead">Belum ada panel utama. Klik "Tambah Panel Utama" untuk bermula atau muat naik fail JSON.</p>
            </div>

        <div class="text-center mt-5 mb-4">
            <button class="btn btn-pop-art-action-main" id="btnSimpanDanKeTerbitkan">
                <i class="bi bi-arrow-right-circle-fill"></i> Simpan & Ke Modul Terbitkan (AI)
            </button>
        </div>
    </main>

    <footer class="footer-pop-art mt-5">
        <p>&copy; <span id="currentYearFooterKontrol"></span> BC Penulis Superhero. Hak Cipta Terpelihara.</p>
        <p>
            <a href="../bina_watak/bina_watak.html" class="footer-link-back me-3"><i class="bi bi-arrow-left-square-fill"></i> Kembali ke Bina Watak</a>
            <a href="../index.html" class="footer-link-back"><i class="bi bi-house-fill"></i> Papan Pemuka Utama</a>
        </p>
    </footer>

    <template id="templatePanelUtama">
        <div class="panel-utama-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span class="panel-utama-title h5 mb-0">Panel Utama #</span> <div>
                    <button class="btn btn-sm btn-success me-2 btnTambahSubPanel" title="Tambah Sub-Panel ke Panel Utama Ini">
                        <i class="bi bi-plus-circle-dotted"></i> Tambah Sub-Panel
                    </button>
                    <button class="btn btn-sm btn-danger btnPadamPanelUtama" title="Padam Panel Utama Ini">
                        <i class="bi bi-trash-fill"></i> Padam Panel Utama
                    </button>
                </div>
            </div>
            <div class="card-body subpanel-container">
                <p class="text-muted pop-art-text placeholder-subpanel">Belum ada sub-panel. Klik "Tambah Sub-Panel".</p>
            </div>
        </div>
    </template>

    <template id="templateSubPanel">
        <div class="sub-panel-card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <span class="subpanel-title fw-bold">Sub-Panel #</span>
                <button class="btn btn-sm btn-outline-danger border-2 btnPadamSubPanel" title="Padam Sub-Panel Ini">
                    <i class="bi bi-x-lg"></i> </button>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 mb-2">
                        <label class="form-label-pop-editor">Watak:</label>
                        <input type="text" list="senaraiWatakDatalistKontrol" class="form-control input-watak" placeholder="Nama Watak">
                    </div>
                    <div class="col-md-6 mb-2">
                        <label class="form-label-pop-editor">Aksi:</label>
                        <input type="text" class="form-control input-aksi" placeholder="Deskripsi aksi">
                    </div>
                </div>
                <div class="mb-2">
                    <label class="form-label-pop-editor">Dialog:</label>
                    <textarea class="form-control input-dialog" rows="2" placeholder="Dialog watak"></textarea>
                </div>
                <div class="row">
                    <div class="col-md-6 mb-2">
                        <label class="form-label-pop-editor">Sudut Pandang Kamera:</label>
                        <input type="text" class="form-control input-sudut" placeholder="Cth: Close-up, Wide Shot">
                    </div>
                    <div class="col-md-6 mb-2">
                        <label class="form-label-pop-editor">Gaya Visual Panel:</label>
                        <input type="text" class="form-control input-gaya" placeholder="Cth: Realistik, Kartun, Gelap">
                    </div>
                </div>
                <fieldset class="border p-2 mt-2 mb-2">
                    <legend class="w-auto px-2 h6">Penampilan Watak</legend>
                    <div class="row">
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Warna Pakaian:</label>
                            <input type="text" class="form-control input-penampilan-warna_pakaian">
                        </div>
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Jenis Pakaian:</label>
                            <input type="text" class="form-control input-penampilan-jenis_pakaian">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Aksesori:</label>
                            <input type="text" class="form-control input-penampilan-aksesori">
                        </div>
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Ekspresi Wajah:</label>
                            <input type="text" class="form-control input-penampilan-ekspresi_wajah" placeholder="Sangat penting!">
                        </div>
                    </div>
                     <div class="row">
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Warna Kulit:</label>
                            <input type="text" class="form-control input-penampilan-warna_kulit">
                        </div>
                        <div class="col-md-6 mb-2">
                            <label class="form-label-pop-editor">Gaya Rambut:</label>
                            <input type="text" class="form-control input-penampilan-gaya_rambut">
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </template>

    <datalist id="senaraiWatakDatalistKontrol"></datalist>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script_kontrol_komik.js"></script>
    <script>
        if(document.getElementById("currentYearFooterKontrol")) {
            document.getElementById("currentYearFooterKontrol").textContent = new Date().getFullYear();
        }
    </script>
</body>
</html>